pipeline
{
    agent {
        label 'DevServer'
    }
    parameters {
        string defaultValue: 'Thangavelu', name: 'LASTNAME'
    }

environment { 
    NAME = "Agathian"
}

tools {
    maven 'myMaven'
    }
    stages {
        stage('Build')
            {
                steps{
                    echo " This is build stage"
                    sh 'mvn clean package'
                    echo "Hello $NAME ${params.LASTNAME} this First Pipeline program "
                }
           
            }
 
    }


stage ('Test')
{
  parallel {
   
    stage('test A'){
            steps {
            echo " This is test A"
                }
        }

    stage('test B'){
        steps {
        echo " This is test B" 
        }
    }
}

     post {
        success {
                    archiveArtifacts artifacts: '**/*.war'
            }
        }

}
}

/*
stage ('Deploy')
{
  steps {
    echo "This is Deploy stage"
}

}

}
} */
